# دستورات پر کاربرد لینوکس

----

## مقدمه

تا اینجا یاد گرفته‌ایم که چطور در سیستم فایل حرکت کنیم و فایل‌ها و پوشه‌ها را بسازیم،
جابه‌جا کنیم و حذف کنیم.
اکنون وقت آن رسیده که سراغ خود «دستورات» برویم تا بفهمیم وقتی نامی را در خط فرمان وارد می‌کنیم
دقیقاً چه چیزی اجرا می‌شود و چگونه می‌توانیم اطلاعات بیشتری از آن به دست بیاوریم.

در این فصل موضوعات زیر را بررسی می‌کنیم:

* انواع مختلف دستورات در لینوکس
* تشخیص نوع دستور با `type`
* پیدا کردن محل قرارگیری فایل اجرایی با `type -p` و `which`
* استفاده از راهنمای درون‌برنامه‌ای (`--help` و `help`)
* کار با صفحات راهنما (`man`) و ساختار آن‌ها
* جست‌وجوی صفحات راهنما با `whatis` و `apropos`
* استفاده از مستندات `info`
* ساختن نام‌های مستعار (`alias`)
* بهره‌گیری از تاریخچه‌ی دستورات (`history`)

---

## دستور چیست؟

```
وقتی در خط فرمان یک «نام» وارد می‌کنیم، شل باید تشخیص دهد که منظور ما چیست و چه چیزی باید اجرا شود.
در لینوکس چهار نوع اصلی از دستورات وجود دارد:

1. **برنامه‌های اجرایی (Executable Programs):**
   می‌تواند یک برنامه‌ی کامپایل‌شده (مانند برنامه‌هایی که با C یا C++ ساخته شده‌اند)
   یا یک اسکریپت باشد (اسکریپت‌های شل، پایتون، پرل و غیره).
2. **دستورات داخلی شل (Shell Builtins):**
   قابلیت‌هایی که جزئی از خود شل هستند، مانند `cd`، `alias`، `history` و … .
3. **توابع شل (Shell Functions):**
   مجموعه‌ای از دستورات که با یک نام تعریف شده‌اند و دقیقاً مانند یک دستور فراخوانی می‌شوند.
4. **نام‌های مستعار (Aliases):**
   نام‌های جایگزینی که برای یک دستور یا دنباله‌ای از دستورات تعریف می‌کنیم تا کوتاه‌تر و راحت‌تر قابل استفاده باشند.

برای فهمیدن اینکه یک نام مشخص به کدام دسته تعلق دارد، از دستور `type` استفاده می‌کنیم.
```
---

## تشخیص نوع دستور با `type`

دستور `type` مشخص می‌کند که یک نام چگونه تفسیر می‌شود:

```bash
type type
type ls
type cp
type mkdir
```

خروجی `type` چیزی شبیه این خواهد بود:

```
type is a shell builtin
ls is aliased to `ls --color=auto`
cp is /bin/cp
mkdir is /bin/mkdir
```

بنابراین می‌بینیم که `type` تشخیص می‌دهد آیا نام مورد نظر **داخلی شل** است،
یک **alias** است یا به فایل اجرایی مشخصی در سیستم اشاره می‌کند.

گزینه‌های مفید `type` عبارتند از:

* `type -t نام` — فقط نوع را برمی‌گرداند (مثلاً `builtin`، `file`، `alias`).
* `type -p نام` — مسیر دقیق فایل اجرایی را نشان می‌دهد (در صورت وجود).
* `type -a نام` — همه‌ی تطابق‌های ممکن را فهرست می‌کند (در صورتی که alias، builtin و فایل اجرایی هم‌نام داشته باشیم).

---



##   مدیریت فایل و پوشه
```
ls        # لیست فایل‌ها
ls -al    # لیست کامل + فایل مخفی
cd dir    # رفتن به پوشه
pwd       # مسیر فعلی
cp file dest      # کپی
cp -r dir dest    # کپی پوشه
mv old new        # جابه‌جایی / تغییر نام
rm file           # حذف فایل
rm -r dir         # حذف پوشه
mkdir dir         # ساخت پوشه
mkdir -p a/b/c    # ساخت تو در تو
```
---
##   مشا هده و ویرایش فایل 
```
cat file          # نمایش کل فایل
less file         # نمایش صفحه‌ای
head -n 10 file   # ۱۰ خط اول
tail -n 10 file   # ۱۰ خط آخر
tail -f log.txt   # مانیتور لاگ
nano file         # ویرایشگر ساده
vim file          # ویرایشگر حرفه‌ای

```
----
## جستجو و فیلتر 
```
find /path -name "*.log"   # جستجوی فایل
grep "error" file          # جستجوی متن
grep -r "error" /var/log   # جستجوی بازگشتی

```
----

## پردازش متن 
```
awk '{print $1}' file
sed 's/old/new/g' file
cut -d: -f1 /etc/passwd
sort file
uniq
wc -l file       # شمارش خطوط

```

----
## مدیریت پکیج 
```
apt update
apt upgrade
apt install nginx

```
----
## کاربران و دسترسی
```
whoami
id
chmod 755 file
chown user:group file
sudo command

```
----

## سیستم و منابع 
```
top
htop
free -h
df -h
du -sh *
uptime
uname -a

```
----
## شبکه 
```
ip a
ip r
ping google.com
curl ifconfig.me
wget url
ss -tulnp

```
## فشرده‌سازی 
```
tar -czvf backup.tar.gz dir/
tar -xzvf backup.tar.gz
zip -r file.zip dir/
unzip file.zip

```
----
## پروسس‌ها 
```
ps aux
kill PID
kill -9 PID
jobs
bg
fg

```
----

## زمان‌بندی
```
crontab -e
crontab -l

```
