# ูุตู ฒฑ โ ูุงูุจโุจูุฏ ุฎุฑูุฌ

ุฒูุงู ฺฉู ุงุณฺฉุฑูพุชโูุง ู ูุฑูุงูโูุง ุฎุท ูุฑูุงู ุฏุงุฏู ุชููุฏ ูโฺฉููุฏุ ูุงุฒู ุงุณุช ุฎุฑูุฌ ุฑุง ุจู ุดฺฉู ูุงุจู ุฎูุงูุฏู ุงุฑุงุฆู ุฏูู.
ุฏุฑ ุงู ูุตู ุจุง ุงุจุฒุงุฑูุง ุขุดูุง ูโุดูู ฺฉู ุจู ูุง ฺฉูฺฉ ูโฺฉููุฏ ุฏุงุฏูโูุง ุฎุงู ุฑุง ุจู ุฌุฏููโูุงุ ฺฏุฒุงุฑุดโูุง ู ูุงูุจโูุง ุฏุฏู ุชุจุฏู ฺฉูู.

ููุถูุนุงุช ุงุตู ุดุงูู ููุงุฑุฏ ุฒุฑ ุงุณุช:

* ุงุฌุงุฏ ุฌุฏููโูุง ุณุงุฏู ุจุง `column` ู `printf`.
* ุงุณุชูุงุฏู ุงุฒ `printf` ุฏุฑ ุดู ู ุฏุฑ ุจุฑูุงููโูุง ุฏฺฏุฑ.
* ุงุจุฒุงุฑูุง ูุงูุจโุจูุฏ ูุงููุฏ `expand`ุ `fmt` ู `pr`.
* ุชุจุฏู ุฏุงุฏูโูุง ุจุง `awk` ู `sed` ุจุฑุง ุชููุฏ ุฎุฑูุฌ ุณุงุฎุชโุงูุชู.

---

### ุณุชููโุจูุฏ ุจุง column

ุฏุณุชูุฑ `column` ูุฑูุฏ ุฑุง ุจู ุณุชููโูุง ุจุง ุนุฑุถ ุจุฑุงุจุฑ ุชุจุฏู ูโฺฉูุฏ.
ุจุฑุง ูุซุงู ุฎุฑูุฌ `/etc/passwd` ุฑุง ูโุชูุงูู ุจู ุดฺฉู ุฏู ุณุชูู ููุงุด ุฏูู:

```
cut -d: -f1,7 /etc/passwd | column -t -s:
```

ฺฏุฒููู `-t` ุณุชููโูุง ุฑุง ูุฑุชุจ ูโฺฉูุฏ ู `-s` ุฌุฏุงฺฉููุฏูู ุฏูุฎูุงู ุฑุง ูุดุฎุต ูโุณุงุฒุฏ.
ุงฺฏุฑ ูุฑูุฏ ุชุนุฏุงุฏ ุณุชููโูุง ุฒุงุฏ ุฏุงุดุชู ุจุงุดุฏุ `column` ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ุนุฑุถ ุชุฑููุงู ุฑุง ุฏุฑ ูุธุฑ ูโฺฏุฑุฏ.

---

### printf ุฏุฑ ุฎุท ูุฑูุงู

ูุฑูุงู `printf` ูุดุงุจู ุชุงุจุน ููโูุงูุด ุฏุฑ ุฒุจุงู C ุนูู ูโฺฉูุฏ.
ุณุงุฎุชุงุฑ ฺฉู:

```
printf "ูุงูุจ" ููุงุฏุฑ...
```

ุฏุฑ bash ูโุชูุงูู ุจู ุดฺฉู ุฒุฑ ุงุณุชูุงุฏู ฺฉูู:

```
printf "%-20s %10d\n" "Product" 42
```

ููุงุฏูุง ูุงูุจ ูุชุฏุงูู:

* `%s` ุฑุดุชู.
* `%d` ุง `%i` ุนุฏุฏ ุตุญุญ.
* `%f` ุนุฏุฏ ุงุนุดุงุฑ.
* `%x` ุนุฏุฏ ุฏุฑ ูุจูุง ุดุงูุฒุฏู.
* `%%` ฺฉ ุนูุงูุช ุฏุฑุตุฏ ูุงูุน.

ูพุฑฺูโูุง ูุงููุฏ `-` (ฺูพโฺู)ุ `0` (ูพุฑ ฺฉุฑุฏู ุจุง ุตูุฑ) ู ุชุนู ุนุฑุถ ูุฏุงู ุจู ฺฉูุชุฑู ุจุดุชุฑ ฺฉูฺฉ ูโฺฉููุฏ.

#### ๐ ุฌุฏูู ฒฑ-ฑ: ุชูุงูโูุง escape ูุชุฏุงูู ุฏุฑ printf

| ุชูุงู | ุชูุถุญ |
| ------ | ----- |
| `\n`   | ุดุฑูุน ุฎุท ุฌุฏุฏ |
| `\t`   | ุชุจ ุงูู |
| `\r`   | ุจุงุฒฺฏุดุช ุจู ุงุจุชุฏุง ุฎุท |
| `\a`   | ุขฺุฑ (bell) |
| `\\`   | ฺุงูพ ฺฉ backslash |

ุงุณุชูุงุฏูู ุฏุฑุณุช ุงุฒ ุงู ุชูุงูโูุง ุจุฑุง ุณุงุฎุช ุฎุฑูุฌ ฺูุฏุฎุท ุง ุฌุฏููโูุง ูพฺุฏู ุถุฑูุฑ ุงุณุช.

---

### ูุงูุจโูุง ูพุดุฑูุชู

`printf` ูโุชูุงูุฏ ฺูุฏู ููุฏุงุฑ ุฑุง ูพุดุช ุณุฑ ูู ฺุงูพ ฺฉูุฏ:

```
while read name price; do
  printf "%-25s %8.2f\n" "$name" "$price"
done < products.txt
```

ุฏุฑ ูุซุงู ุจุงูุงุ ูุงู ู ููุช ฺฉุงูุงูุง ุฏุฑ ูุงูุจ ฺฉ ุฌุฏูู ุจุง ุฏู ุณุชูู ููุงุด ุฏุงุฏู ูโุดููุฏ.
ูโุชูุงูู ุฎุฑูุฌ ุฑุง ุจู ูุงู ูุฏุงุช ฺฉูู ุง ููุฑุงู ุจุง ุงุจุฒุงุฑูุง ุฏฺฏุฑ ุฒูุฌุฑ ฺฉูู.

ุงุฒ `printf` ุฏุฑ ุจุฑูุงููโูุง ูุงููุฏ `awk` ูุฒ ุงุณุชูุงุฏู ูโุดูุฏ:

```
awk -F',' '{ printf "%-20s %6d\n", $1, $3 }' sales.csv
```

ุงู ุฏุณุชูุฑ ูุงู ูุญุตูู (ุณุชูู ุงูู) ู ุชุนุฏุงุฏ ูุฑูุด (ุณุชูู ุณูู) ุฑุง ุจุง ูุงูุจโุจูุฏ ููุงุณุจ ฺุงูพ ูโฺฉูุฏ.

---

### ุงุณุชูุงุฏู ุงุฒ sed ุจุฑุง ูุงูุจโุจูุฏ ุณุงุฏู

`sed` ููุท ุจุฑุง ูุฑุงุด ุฎุท ูุณุชุ ูโุชูุงูุฏ ูุงูุจโุจูุฏ ุงููู ูุฒ ุงูุฌุงู ุฏูุฏ.
ุจุฑุง ูุซุงู ุชุจุฏู ููุฑุณุช ฺฉูุฏ=ููุฏุงุฑ ุจู ุฌุฏูู ุฏูููุทูโุง:

```
sed 's/=/: /' config.list | column -t -s:
```

ุง ุงูุฒูุฏู ฺฉุงููุช ุจู ุฎุทูุท ุงูุชุฎุงุจ:

```
sed '/^#/!s/^/# /' notes.txt
```

---

### ุงุณุชูุงุฏู ุงุฒ awk ุจุฑุง ฺฏุฒุงุฑุดโฺฏุฑ

`awk` ุฒุจุงู ฺฉูฺฺฉ ุจุฑุง ูพุฑุฏุงุฒุด ูุชู ุงุณุช.
ูโุชูุงูู ุณุชููโูุง ุฑุง ุงูุชุฎุงุจ ฺฉููุ ูุญุงุณุจู ุงูุฌุงู ุฏูู ู ฺฏุฒุงุฑุด ุจุณุงุฒู.

```
awk -F',' '
BEGIN {
  printf "%-20s %10s %10s\n", "Product", "Units", "Revenue";
  printf "%s\n", "-------------------------------------------";
}
{
  revenue = $3 * $4;
  total_units += $3;
  total_revenue += revenue;
  printf "%-20s %10d %10.2f\n", $1, $3, revenue;
}
END {
  printf "%s\n", "-------------------------------------------";
  printf "%-20s %10d %10.2f\n", "TOTAL", total_units, total_revenue;
}
' sales.csv
```

ุฏุฑ ุจุฎุด `BEGIN` ุณุฑุณุชููโูุง ฺุงูพ ูโุดููุฏุ ุฏุฑ ุจุฏููู ุงุตู ุจุฑุง ูุฑ ุฑฺฉูุฑุฏ ุฎุฑูุฌ ุชููุฏ ูโฺฏุฑุฏุฏ ู ุฏุฑ `END` ุฌูุน ฺฉู ฺฏุฒุงุฑุด ุฏุงุฏู ูโุดูุฏ.

---

### ุชูุธู ุนุฑุถ ูุชู ู ุตูุญูโุจูุฏ

ุงุจุฒุงุฑ `fmt` ูพุงุฑุงฺฏุฑุงูโูุง ุฑุง ุจู ุทูู ูุดุฎุต ูโุดฺฉูุฏ ู `fold` ุฎุทูุท ุฑุง ุจุฏูู ุชูุฌู ุจู ฺฉููู ูุทุน ูโฺฉูุฏ.
ุจุฑุง ฺุงูพ ฺฏุฒุงุฑุด ุฑู ฺฉุงุบุฐุ `pr` ุณุฑุจุฑฺฏ ู ุดูุงุฑูู ุตูุญู ุงุถุงูู ูโฺฉูุฏ:

```
pr -h "Sales Report" -l 60 report.txt
```

ฺฏุฒููู `-h` ุนููุงู ุตูุญูุ `-l` ุชุนุฏุงุฏ ุฎุทูุท ูุฑ ุตูุญู ู `-d` ุจุฑุง ุญุงูุช ยซdouble-spaceยป ุจู ฺฉุงุฑ ูโุฑูุฏ.

---

### ููโุชุฑุงุฒ ฺฉุฑุฏู ุฏุงุฏูโูุง ุจุง Bash

ุฏุฑ ุงุณฺฉุฑูพุชโูุง ฺฏุงู ูุงุฒู ุงุณุช ุฌุฏููโูุง ุจุง ุนุฑุถโูุง ุซุงุจุช ุงุฌุงุฏ ฺฉูู.
ูโุชูุงูู ุงุฒ ูุญุงุณุจุงุช ุทูู ุฑุดุชู ุงุณุชูุงุฏู ฺฉูู:

```
pad() {
  local text="$1"
  local width="$2"
  printf "%-${width}s" "$text"
}

printf "| %s | %s |\n" "$(pad "Name" 15)" "$(pad "Phone" 12)"
printf "|-%s-|-%s-|\n" "$(printf '%.0s-' {1..15})" "$(printf '%.0s-' {1..12})"
```

ุงู ุงูฺฏู ุฒูููู ููุงุณุจ ุจุฑุง ุณุงุฎุช ุฌุฏููโูุง ุณูุงุฑุด ุฏุฑ ุงุณฺฉุฑูพุชโูุง ูุฑุงูู ูโฺฉูุฏ.

---

### ุชููุฏ ุฎุฑูุฌ ุจุฑุง ูุฑูุชโูุง ุฏฺฏุฑ

ฺฏุงู ูุงุฒู ุงุณุช ุฎุฑูุฌ ุฑุง ุจู ูุฑูุชโูุง ูุธุฑ CSV ุง HTML ุชุจุฏู ฺฉูู.
ุจุง ุงุจุฒุงุฑูุง ูุงููุฏ `printf`, `sed` ู `awk` ูโุชูุงูู ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูู.

**ูููููู CSV:**

```
awk 'BEGIN { OFS="," } { print $1, $2, $3 }' data.txt
```

**ูููููู HTML:**

```
awk '
BEGIN {
  print "<table>";
}
{
  printf "  <tr><td>%s</td><td>%s</td></tr>\n", $1, $2;
}
END {
  print "</table>";
}
' table.txt
```

---

### ุฌูุนโุจูุฏ

ูุงูุจโุจูุฏ ููุงุณุจ ุฎุฑูุฌุ ุฎูุงูุง ฺฏุฒุงุฑุดโูุง ู ุงุณฺฉุฑูพุชโูุง ุฑุง ุงูุฒุงุด ูโุฏูุฏ.
ุจุง ุชุฑฺฉุจ ุงุจุฒุงุฑูุง ุณูุช ููฺฉุณ ูโุชูุงู ุฎุฑูุฌ ุฑุง ุจู ูุฑ ุดฺฉู ุฏูุฎูุงู ุฏุฑุขูุฑุฏุ ููู ุงู ุงุณุช ฺฉู ูุงูุจ ููุฑุฏ ูุธุฑ ุฑุง ุฏูู ูุดุฎุต ฺฉูู ู ุณูพุณ ุจุง ููุชุฑูุง ูุชู ููุงุณุจ ุจู ุขู ุจุฑุณู.

ุฏุฑ ูุตู ุจุนุฏ ุฎูุงูู ุฏุฏ ฺฺฏููู ุฎุฑูุฌโูุง ูุฑูุชโุดุฏู ุฑุง ุฑู ฺฉุงุบุฐ ุง ฺุงูพฺฏุฑ ุงุฑุณุงู ฺฉูู.

---

### ุชูุฑู

1. ูุงู ุดุงูู ูุงูุ ููุช ู ุชุนุฏุงุฏ ฺฉุงูุง ุชูู ฺฉูุฏ ู ุจุง ุงุณุชูุงุฏู ุงุฒ `awk` ฺฏุฒุงุฑุด ุดุจู ูุซุงู ุงู ูุตู ุจุณุงุฒุฏ ฺฉู ุณุชูู ุฌูุน ฺฉู ุฑุง ูู ุงุถุงูู ฺฉูุฏ.
2. ุฎุฑูุฌ ูุฑูุงู `df -h` ุฑุง ุทูุฑ ุจุง `column` ู `printf` ูุงูุจโุจูุฏ ฺฉูุฏ ฺฉู ุชููุง ูุงู mount point ู ูุถุง ุฎุงู ุจุงู ุจูุงูุฏ.
3. ุจุง ุจูุฑูโฺฏุฑ ุงุฒ `printf` ุฏุฑ Bashุ ฺฉ ุฌุฏูู ุณูโุณุชูู ุจุณุงุฒุฏ ฺฉู ุณุฑูุตูโูุง ุฑุง ูุณุทโฺู ู ุฏุงุฏูโูุง ุฑุง ุฑุงุณุชโฺู ููุงุด ุฏูุฏ.

---

### ูุทุงูุนูู ุจุดุชุฑ

* ูุณุชูุฏ `info printf` ุฏุฑ ูพุฑูฺูู GNU ุฌุฒุฆุงุช ูููู ุชูุตูฺฏุฑูุง ูุงูุจ ุฑุง ููุฑุณุช ูโฺฉูุฏ.
* ุจุฑุง ุงุฏูโูุง ุจุดุชุฑ ุฏุฑุจุงุฑูู ฺฏุฒุงุฑุดโุณุงุฒ ุจุง `awk`ุ ุจู ฺฉุชุงุจ ยซThe AWK Programming Languageยป ูุฑุงุฌุนู ฺฉูุฏ.
* ุตูุญูู ุฑุงูููุง `man column` ู `man pr` ูุซุงูโูุง ุจุดุชุฑ ุฏุฑุจุงุฑูู ูุงูุจโุจูุฏ ุฎุฑูุฌ ุงุฑุงุฆู ูโุฏููุฏ.

